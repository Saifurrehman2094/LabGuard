<!DOCTYPE html>
<html>
<head>
    <title>Electron API Test</title>
</head>
<body>
    <h1>Electron API Test</h1>
    <div id="results"></div>
    
    <script>
        function updateResults(message) {
            document.getElementById('results').innerHTML += '<p>' + message + '</p>';
        }
        
        // Test if electronAPI is available
        updateResults('Testing electronAPI availability...');
        
        if (typeof window !== 'undefined') {
            updateResults('Window object exists: ' + !!window);
            updateResults('electronAPI exists: ' + !!window.electronAPI);
            
            if (window.electronAPI) {
                updateResults('electronAPI properties: ' + Object.keys(window.electronAPI).join(', '));
                updateResults('login function exists: ' + (typeof window.electronAPI.login === 'function'));
            } else {
                updateResults('electronAPI is not available');
            }
        }
        
        // Test login function
        if (window.electronAPI && window.electronAPI.login) {
            updateResults('Attempting to call login function...');
            window.electronAPI.login({ username: 'test', password: 'test' })
                .then(result => {
                    updateResults('Login call successful: ' + JSON.stringify(result));
                })
                .catch(error => {
                    updateResults('Login call failed: ' + error.message);
                });
        }
    </script>
</body>
</html>